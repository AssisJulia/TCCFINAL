@page "/cadastro"

@using SAMMI.Domain.DTOs.Usuario.Response
@using SAMMI.Domain.DTOs.Usuario.Request;
@using System.Text.RegularExpressions
@using Newtonsoft.Json

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Lilita+One&display=swap" rel="stylesheet">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Lilita+One&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">

@if (cadastroRequest == null)
{
    <p><em>Carregando...</em></p>
}
else
{
    <RadzenTemplateForm Data="@cadastroRequest" Submit="@((UsuarioAdicionarRequest request) => { Submit(request); })">
        <RadzenRow Gap="2rem" Class="rz-p-0 rz-p-lg-4">
            <RadzenColumn Size="12" SizeMD="6">
                <RadzenStack>
                    <RadzenRow AlignItems="AlignItems.Center">
                        <RadzenColumn Size="12">
                            <RadzenFormField Text="UsuÃ¡rio" Variant="@variant" Style="width: 100%; font-family: 'Ubuntu', sans-serif;">
                                <ChildContent>
                                    <RadzenTextBox bind-value="@cadastroRequest.Nome" />
                                </ChildContent>
                                <End>
                                    <RadzenIcon Icon="account_circle" />
                                </End>
                            </RadzenFormField>
                        </RadzenColumn>
                    </RadzenRow>
                    <RadzenRow AlignItems="AlignItems.Center">
                        <RadzenColumn Size="12">
                            <RadzenFormField Text="E-mail" Variant="@variant" Style="width: 100%; font-family: 'Ubuntu', sans-serif;">
                                <ChildContent>
                                    <RadzenTextBox @bind-Value="@cadastroRequest.EmailLogin" />
                                </ChildContent>
                                <End>
                                    <RadzenIcon Icon="mail" />
                                </End>
                            </RadzenFormField>
                        </RadzenColumn>
                    </RadzenRow>
                    <RadzenRow AlignItems="AlignItems.Center">
                        <RadzenColumn Size="12">
                            <RadzenFormField Text="Confirmar e-mail" Variant="@variant" Style="width: 100%; font-family: 'Ubuntu', sans-serif;">
                                <ChildContent>
                                    <RadzenTextBox @bind-Value="@cadastroRequest.EmailLoginConfirmacao" />
                                </ChildContent>
                                <End>
                                    <RadzenIcon Icon="mail" />
                                </End>
                            </RadzenFormField>
                        </RadzenColumn>
                    </RadzenRow>
                    <RadzenRow AlignItems="AlignItems.Center">
                        <RadzenColumn Size="12">
                            <RadzenFormField Text="Senha" Variant="@variant" Style="width: 100%; font-family: 'Ubuntu', sans-serif;">
                                <ChildContent>
                                    <RadzenPassword @bind-Value="@cadastroRequest.Senha" />
                                </ChildContent>
                            </RadzenFormField>
                        </RadzenColumn>
                    </RadzenRow>
                    <RadzenRow AlignItems="AlignItems.Center">
                        <RadzenColumn Size="12">
                            <RadzenFormField Text="Confirmar Senha" Variant="@variant" Style="width: 100%; font-family: 'Ubuntu', sans-serif;">
                                <ChildContent>
                                    <RadzenPassword @bind-Value="@cadastroRequest.SenhaConfirmacao" />
                                </ChildContent>
                            </RadzenFormField>
                        </RadzenColumn>
                    </RadzenRow>
                </RadzenStack>
            </RadzenColumn>
        </RadzenRow>
        <RadzenStack Orientation="Orientation.Horizontal" JustifyContent="JustifyContent.Center" Gap="1rem" Class="rz-mt-8 rz-mb-4">
            <RadzenButton ButtonType="ButtonType.Submit" Size="ButtonSize.Large" Text="Cadastrar" Style="background-color: #217011" />
            <RadzenButton ButtonStyle="ButtonStyle.Light" Variant="Variant.Flat" Size="ButtonSize.Large" Text="Cancelar" Style="background-color: red; color: white" Click="@Cancel" />
        </RadzenStack>
    </RadzenTemplateForm>
}

@code {
    bool mostraSenha = false;
    bool mostraConfirmacaoSenha = false;

    AlertStyle alerttype; //Warning, Success, Info, Danger
    Variant variant = Variant.Outlined;

    UsuarioAdicionarRequest cadastroRequest = new UsuarioAdicionarRequest();

    void Submit(UsuarioAdicionarRequest request)
    {
        //
    }

    void Cancel()
    {
        NavigationManager.NavigateTo("/");
    }

    void HabilitaVerSenha()
    {
        mostraSenha = !mostraSenha;
    }

    void HabilitaVerConfirmacaoSenha()
    {
        mostraConfirmacaoSenha = !mostraConfirmacaoSenha;
    }
}